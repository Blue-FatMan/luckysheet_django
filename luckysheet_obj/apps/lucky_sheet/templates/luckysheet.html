{% load static %}

<!DOCTYPE html>
<html>
<head lang="zh">
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="renderer" content="webkit"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1,user-scalable=0"
    />
    <title>Luckysheet</title>

{#    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/css/pluginsCss.css'/>#}
{#    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/plugins.css'/>#}
{#    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/luckysheet/dist/css/luckysheet.css'/>#}
{#    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/luckysheet/dist/assets/iconfont/iconfont.css'/>#}
{#    <script src="https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/js/plugin.js"></script>#}
{#    <script src="https://cdn.jsdelivr.net/npm/luckysheet/dist/luckysheet.umd.js"></script>#}

    <link rel='stylesheet' href='{% static "dist/plugins/css/pluginsCss.css" %}'/>
    <link rel='stylesheet' href='{% static "dist/plugins/plugins.css" %}'/>
    <link rel='stylesheet' href='{% static "dist/css/luckysheet.css" %}'/>
    <link rel='stylesheet' href='{% static "dist/assets/iconfont/iconfont.css" %}'/>
    <script src='{% static "dist/plugins/js/plugin.js" %}'></script>
    <script src='{% static "dist/luckysheet.umd.js" %}'></script>

</head>

<body>
{% csrf_token %}
<div id="luckysheet" ,
     style="margin: 0px;padding: 0px;position: absolute;width: 100%;height: 100%;left: 0px;top: 0px;"></div>
<script type="module">
    $(function () {
        luckysheet.create({
            container: 'luckysheet',
            lang: 'zh',
            allowEdit: true,
            forceCalculation: false,
            allowUpdate: true,
            updateImageUrl: "http://luckysheet.lashuju.com/luckysheet/api/updateImg",
            updateUrl: "ws://127.0.0.1:8000/luckysheetupdateurl",
            loadUrl: "{% url 'lucky_sheet_loadurl' %}",
            // gridKey loadUrl的提交参数
            //"gridKey": "1079500#-8803#7c45f52b7d01486d88bc53cb17dcd2c3",
            {#loadSheetUrl: "http://luckysheet.lashuju.com/luckysheet/api/loadsheet"#}
        });
    });

</script>
</body>
</html>
